<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>05. Внутренние события</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
      crossorigin="anonymous"
    />
  </head>
  <body class="mx-3">
    <span class="badge text-wrap text-bg-primary mt-3">00. ПРИМС</span>
    <h1 class="display-6 mt-3">05. Внутренние события</h1>
    <p class="mt-3">
      А как описывать поведение исполнителя для самого состояния, а не только на
      переходах?
    </p>

    <p class="mt-3">
      Рассмотрим ещё раз, что такое события. Это некоторое внешнее воздействие,
      которое требует нашей реакции. До этого мы рассматривали изменение
      состояния. Но что, если состояние менять не нужно, а надо всего лишь
      что-то сделать?
    </p>

    <p class="mt-3">
      Например, лампа переходит в режим «Утро», подсветка начинается с
      минимального значения яркости и постепенно доходит до максимального.
      Конечно, можно создать отдельное состояние для процесса изменения значения
      яркости, но иногда проще обойтись без этого.
    </p>

    <p class="mt-3">
      На этот случай существуют <b>внутренние</b> события, которые не приводят к
      переходу в новое состояние и сопровождаются действиями. Таким образом
      можно описывать, что делает исполнитель в том или ином состоянии,
      например, по-разному реагирует на одно и то же событие.
    </p>

    <a class="mt-1"><img src="../../img/ПРИМС/sm-2.png" width="100%" /></a>

    <p class="mt-3">
      Как до этого упоминалось, на событие может приходиться сразу несколько
      действий. Они будут выполняться по очереди, как в алгоритме. Здесь даже и
      вовсе может быть отрывок кода на языке программирования, чем пользуются на
      практике.
    </p>

    <p class="mt-3">
      Важно заметить, существуют специальные внутренние события:
      <b>entry</b> (англ. вход, у нас – <b>onEnter</b>) – это событие, которое
      вызывается при входе в состояние, и <b>exit</b> (англ. выход, у нас –
      <b>onExit</b>) – соответственно, вызывается, когда исполнитель выходит из
      этого состояния в другое. Чаще всего используется entry, чтобы описать,
      как именно исполнитель должен проделывать действия, соответствующие его
      состоянию.
    </p>

    <p class="mt-3">
      Например, вместо того, чтобы писать «яркость 10%» для каждого перехода в
      состояние режим «Утро», это действие можно поместить в событие entry. А в
      событие exit – «яркость 90%». Это гораздо удобнее и проще, а также
      позволяет убрать лишние повторы.
    </p>

    <a class="mt-1"><img src="../../img/ПРИМС/sm-3.png" width="100%" /></a>
  </body>
</html>
