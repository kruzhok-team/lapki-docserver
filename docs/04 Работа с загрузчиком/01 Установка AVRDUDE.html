<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>01. Установка AVRDude</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  </head>
  <body class="mx-3">
    <span class="badge text-wrap text-bg-primary mt-3">
      04. Работа с&nbsp;загрузчиком
    </span>
    <h1 class="display-6 mt-3">
      01. Установка AVRDude
    </h1>
    <p class="mt-3 text-bg-warning p-2">
      <strong><a href="https://github.com/avrdudes/avrdude" class="link-primary">AVRDude</a></strong> (AVR Downloader-Uploader)&nbsp;—&nbsp;кроссплатформенная свободная консольная программа, предназначенная для&nbsp;прошивки микроконтроллеров, таких как&nbsp;Arduino. Она нужна загрузчику для&nbsp;того, чтобы тот&nbsp;мог прошивать, подключённые устройства.<br>
      Не&nbsp;нужно скачивать AVRDude, если&nbsp;Вы&nbsp;собираетесь подключиться к&nbsp;<b>удалённому</b> загрузчику.<br>
      Не&nbsp;забудьте <b>перезагрузить</b> IDE после установки и&nbsp;настройки AVRDude!
    </p>
    <p class="mt-3 text-bg-success p-2">Windows</p>
    <p class="mt-3">
      <strong>1. Скачайте AVRDude:</strong><br>
      Перейдите на&nbsp;официальный репозиторий проекта <strong><a href="https://github.com/avrdudes/avrdude/releases" class="link-primary">AVRDude</a></strong>, 
      пролистайте страницу вниз и&nbsp;найдите раздел под&nbsp;названием <strong>"Assets"</strong>, если ниже отсутствует список файлов, то&nbsp;нажмите на&nbsp;<strong>"Assets"</strong>, чтобы <strong>показать список файлов</strong>.<br>
      Затем в&nbsp;списке нажмите на&nbsp;файл <strong>avrdude-v7.3-windows-x64.zip</strong>, если у&nbsp;Вас архитектура процессора компьютера <strong>x64</strong>, иначе <strong>avrdude-v7.3-windows-x86.zip</strong>, если архитектура <strong>x86</strong> или&nbsp;<strong>x32</strong>.
    </p>
    <p class="mt-3">
      <strong>2. Разархивируйте архив:</strong><br>
      После&nbsp;завершения загрузки разархивируйте скачанный архив с&nbsp;avrdude в&nbsp;удобном для&nbsp;Вас месте на&nbsp;компьютере.
    </p>
    <p class="mt-3">
      <strong>3. Добавьте AVRDude в&nbsp;переменные среды (необязательно, если Вы собираетесь добавить исполняемый файл в&nbsp;папку с&nbsp;загрузчиком):</strong><br>
      Найдите и&nbsp;скопируйте путь к&nbsp;распакованной папке AVRDude.<br>
      Откройте командную строку от&nbsp;<strong>прав администратора</strong>.<br>
      Используйте команду setx для&nbsp;добавления пути к&nbsp;папке в&nbsp;переменную PATH. Например, чтобы&nbsp;добавить путь D:\avrdude-v7.3-windows-x64:<br>
      <strong>setx PATH "%PATH%;D:\avrdude-v7.3-windows-x64"</strong>, где "D:\avrdude-v7.3-windows-x64" - это&nbsp;путь к&nbsp;вашему файлу avrdude.exe.<br>
      <p class="mt-3 text-bg-warning p-2">Это&nbsp;позволит Вам использовать AVRDude из&nbsp;любого места в&nbsp;командной строке без&nbsp;необходимости указывать полный путь к&nbsp;исполняемому файлу.</p>
    </p>
    <p class="mt-3">
      <strong>4. Протестируйте установку:</strong><br>
      Откройте командную строку.<br>
      Если Вы&nbsp;добавили путь в&nbsp;переменную среды PATH, то&nbsp;в&nbsp;командной строке введите <strong>avrdude</strong> и&nbsp;нажмите Enter.
      В&nbsp;командной строке должна появиться информация о&nbsp;программе, что&nbsp;означает успешную установку и&nbsp;работу AVRDude.<br>
      <p class="mt-3 text-bg-warning p-2">
        Если Вы не&nbsp;добавляли путь AVRDude в&nbsp;переменную среды PATH, то&nbsp;введите команду:<br>
        <strong>cd D:\avrdude-v7.3-windows-x64</strong>, где&nbsp;"D:\avrdude-v7.3-windows-x64" - это&nbsp;путь к&nbsp;вашему файлу avrdude.exe.<br>
        После чего в&nbsp;командной строке введите <strong>avrdude</strong> и&nbsp;нажмите Enter, если&nbsp;вывелась информация о&nbsp;AVRDude, значит программа успешно установлена и&nbsp;работает.<br>
      </p>
    </p>
    <p class="mt-3 text-bg-success p-2">MacOS</p>
    <p class="mt-3">
      На&nbsp;macOS AVRDude можно установить через&nbsp;<strong><a href="https://brew.sh/" class="link-primary">Homebrew</a></strong>, либо&nbsp;через&nbsp;<strong><a href="https://www.macports.org/" class="link-primary">MacPorts</a></strong>. 
      В&nbsp;этой инструкции представлен способ установки через&nbsp;Homebrew:
      <br>
      <strong>1. Открыть терминал на macOS</strong>:
      <br>
      Терминал лежит в&nbsp;папке Applications/Utilities, можно найти через&nbsp;Finder.
      <br>
      <strong>2. Установите Homebrew (если его нет):</strong><br>
      Откройте терминал и&nbsp;выполните следующую команду:<br>

      <strong>/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"</strong><br>
    </p>
    <p class="mt-3">
      <strong>3. Установите AVRDude:</strong><br>
      В&nbsp;терминале выполните команду:<br>

      <strong>brew install avrdude</strong>
    </p>
    <p class="mt-3">
      <strong>4. Протестируйте установку:</strong><br>
      После установки AVRDude Вы&nbsp;можете запустить его&nbsp;из&nbsp;терминала, введя команду <strong>avrdude</strong>.
    </p>
    <p class="mt-3 text-bg-success p-2">Linux (Ubuntu/Debian)</p>
    <p class="mt-3">
      <strong>1. Установите AVRDude:</strong><br>
      Откройте терминал и&nbsp;выполните команды:<br>
      <strong>sudo apt-get update</strong><br>
      <strong>sudo apt-get install avrdude</strong>
    </p>
    <p class="mt-3">
      <strong>2. Запустите AVRDude:</strong><br>
      После установки AVRDude Вы&nbsp;можете запустить его&nbsp;из&nbsp;терминала, введя команду <strong>avrdude</strong>.
    </p>
    <p class="mt-3 text-bg-success p-2">Linux (Fedora)</p>
    <p class="mt-3">
      <strong>1. Установите AVRDude:</strong><br>
      Откройте терминал и&nbsp;выполните команды:<br>
      <strong>sudo dnf install avrdude</strong>
    </p>
    <p class="mt-3">
      <strong>2. Запустите AVRDude:</strong><br>
      После установки AVRDude Вы&nbsp;можете запустить его&nbsp;из&nbsp;терминала, введя команду <strong>avrdude</strong>.
    </p>
    <p class="mt-3 text-bg-warning p-2">
      В&nbsp;большинстве дистрибутивов Linux в&nbsp;репозиториях программного обеспечения имеется AVRDude. В&nbsp;Ubuntu и&nbsp;других дистрибутивах на&nbsp;основе Debian (таких как&nbsp;Debian, Linux Mint и&nbsp;т.д.) Вы&nbsp;можете ввести в&nbsp;командной строке следующую команду для&nbsp;установки AVRDude:
      <br><strong>sudo apt-get install avrdude</strong>
    </p>
        <p class="mt-3 text-bg-success p-2">Добавление AVRDude в&nbsp;папку с&nbsp;загрузчиком (для&nbsp;опытных пользователей)</p>
    <p class="mt-3">
      Если по&nbsp;какой-либо&nbsp;причине&nbsp;Вы не&nbsp;хотите использовать системный путь, то&nbsp;Вы&nbsp;можете добавить исполняемый файл <strong>AVRDude</strong> и&nbsp;его конфигурационный файл <strong>avrdude.conf</strong> непосредственно в&nbsp;папку с&nbsp;загрузчиком 
      внутри Lapki-IDE. Для&nbsp;этого Вам понадобится открыть внутренние файлы Lapki-IDE и&nbsp;найти там&nbsp;папку modules, которая лежит по&nbsp;пути: 
      <br>
      <strong>&nbsp;...\lapki-ide\resources\app.asar.unpacked\resources\modules</strong>
      <br>
      В&nbsp;этой папке нужно найти папку, 
      которая соответствует названию вашей ОС, то&nbsp;есть&nbsp;<strong>win32</strong> для&nbsp;<em>Windows</em>, <strong>darwin</strong> для&nbsp;<em>macOS</em> и&nbsp;<strong>linux</strong> для&nbsp;одноимённой ОС, 
      туда нужно добавить файлы <strong>AVRDude</strong> (<strong>avrdude.exe</strong> для&nbsp;Windows) и&nbsp;<strong>avrdude.conf</strong>. 
      После этого, при&nbsp;следующем запуске IDE, загрузчик будет автоматически использовать файлы, которые Вы&nbsp;добавили, 
      независимо от&nbsp;системного пути. Аналогично, можно удалить эти файлы, если&nbsp;они Вам больше не&nbsp;нужны, в&nbsp;таком случае, 
      загрузчик переключится на&nbsp;системный путь.
    <p class="mt-3 text-bg-warning p-2">
      После установки AVRDude и&nbsp;перезагрузки IDE, предупреждение о&nbsp;том,&nbsp;что&nbsp;программа AVRDude не&nbsp;найдена должно пропасть в&nbsp;IDE.
    </p>
  </body>
</html>
